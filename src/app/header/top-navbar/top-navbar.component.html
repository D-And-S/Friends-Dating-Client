<header>
    <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-primary">
        <div class="container">
            <a
                class="navbar-brand"
                routerLink="/"
            >
                Friends Dating
            </a>
            <ul class="navbar-nav mr-auto">
                <ng-container *ngIf="authService.currentUser$ | async">
                    <li class="nav-item">
                        <a
                            class="nav-link"
                            routerLink="/members"
                        >
                            Matches
                        </a>
                    </li>
                    <li class="nav-item">
                        <a
                            class="nav-link"
                            routerLink="/lists"
                        >
                            Lists
                        </a>
                    </li>
                    <li class="nav-item">
                        <a
                            class="nav-link"
                            routerLink="/messages"
                        >
                            Messages
                        </a>
                    </li>
                    <li *appHasRole='["Admin", "Moderator"]' class="nav-item">
                        <a
                            class="nav-link"
                            routerLink="/admin"
                        >
                            Admin
                        </a>
                    </li>
                </ng-container>
                <li class="nav-item" *ngIf="isDevelopment">
                    <a
                        class="nav-link"
                        routerLink="/errors"
                    >
                        Error
                    </a>
                </li>


            </ul>

            <app-login></app-login>

            <div
                class="btn-group"
                dropdown
                *ngIf="(authService.currentUser$ | async) as user"
            >
                <img
                    src="{{user.photoUrl || '../assets/user.png'}}"
                    alt="{{user.username}}"
                >
                <button
                    id="button-basic"
                    dropdownToggle
                    type="button"
                    class="btn btn-primary dropdown-toggle text-light ml-2"
                    aria-controls="dropdown-basic"
                >
                    Welcome {{user.username | titlecase}}
                    <span class="caret"></span>
                </button>
                <ul
                    id="dropdown-basic"
                    *dropdownMenu
                    class="dropdown-menu"
                    role="menu"
                    aria-labelledby="button-basic"
                >
                    <li role="menuitem">
                        <a
                            class="dropdown-item"
                            routerLink="member/edit"
                        >
                            Edit Profile
                        </a>
                    </li>
                    <li role="menuitem">
                        <a
                            class="dropdown-item"
                            (click)="logout()"
                        >
                            LogOut
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</header>
